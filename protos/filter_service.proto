syntax = "proto3";

package filterservice;


service FilterService {

    rpc AddPost(Post) returns (Response) {}

    rpc GetPost(PostID) returns (Post) {}

    rpc UpdatePost(Post) returns (Post) {}

    rpc RemovePost(PostID) returns (Post) {}

    rpc UpVotePost(PostID) returns (Votes) {}

    rpc DownVotePost(PostID) returns (Votes) {}

    rpc GetHotPostsNearMe(Filters) returns (PostIDs) {}
}

message Filters {
    int64       timestamp = 2;
    int64       latitude = 3;
    int64       longitude = 4;
    string      channel1 = 5;
    string      channel2 = 6;
    int64       range = 7;
}

message PostID {
    string      username = 1;
    int64       timestamp = 2;
}

message PostIDs {
    repeated PostID id = 1;
}

message Post {
    string      username = 1;
    int64       timestamp = 2;
    int64       latitude = 3;
    int64       longitude = 4;
    string      channel1 = 5;
    string      channel2 = 6;
    int64       votes = 7;
}

message Votes {
    int64       votes = 1;
}

message Response {
    bool        success = 1;
}

