syntax = "proto3";


service FilterService {

    rpc GetHotPostsNearMe(Filters) returns (PostIDs) {}

    rpc CreatePost(Post) returns (Post) {}

    rpc ReadPost(PostID) returns (Post) {}

    rpc UpdatePost(Post) returns (Post) {}

    rpc DeletePost(PostID) returns (Post) {}
}

message GeoLocation {
    int32 latitude = 1;
    int32 longitude = 2;
}

message Attributes {
    int32 time = 1;
    GeoLocation location = 2;
    string channel1 = 3;
    string channel2 = 4;
}

message Filters {
    Attributes attributes = 1;
    int32 range = 2;
}

message PostIDs {
    repeated PostID posts = 1;
}

message PostID {
    string postID = 1;
}

message Error {
    bool success = 1;
    optional string err = 2;
}

message Post {
    PostID postID = 2;
    Filters filters = 1;
}